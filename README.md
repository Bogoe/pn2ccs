# Overview
This tool is a webapplication built to be ran in modern browsers. To run it, simply open the `src/index.html` file in a modern browser with JavaScript enabled (see below for supported browsers).

The tool allows to input a Petri net (by drawing it using the interface or importing a P/T net PNML-file). The Petri net will then be classified in terms of the relevant classes (those presented in Fig. 1 in the paper) and, if possible, encoded into a CCS process. For further details and how to use the tool, please click on the `Help`-button in the top right corner when you have the tool opened. Eventually review the step-by-step guide below.


# Supported Browsers
The first version number is the *minimum* version that should be supported according to [@mdn/browser-compat-data](https://github.com/mdn/browser-compat-data). The numbers in parentheses are the versions that have been tested. The tool shows a warning if it detects that the browser does not support all the needed functionality.

## Desktop
- Google Chrome 79+ (129 on Windows 11)
- Microsoft Edge 79+ (129 on Windows 11)
- Mozilla Firefox 75+ (131 on Windows 11)
- Opera 66+ (113 on Windows 11)
- Safari 14.1+ (not tested!)

## Android
- Google Chrome 79+ (115 on Android 10)
- Mozilla Firefox 79+ (127 on Android 10)
- Opera 57+ (83 on Android 14)
- Samsung Internet 12.0+ (not tested!)

## iOS
- Safari 14.5+ (not tested!)


# Reproducing Examples
The directory `examples/pnml/` contains PNML-files for all examples below. The directory `examples/images/` contains pdf/image-files for most of the Petri nets.

All files corresponding to a figure in the paper is prefixed with the figure number. However, note that places/transitions can have different names in the tool (as these cannot be changed in the tool). Furthermore, the encoding might be different (but equivalent) in the tool because the encoding have nondeterministic choices (see line 11-12 in Algorithm 1 in the paper).

Besides the examples from the paper, there are some additional advanced examples contained in the files prefixed with `x`. These examples only have PNML-files generated by other tools and might not give a good *visual* result for the Petri net in the tool due to missing/bad positions or the fixed sized nodes in this tool. In those cases (except `x7-x9`), please consult the images for a better visualization.

## Examples from Paper [(10.1007/978-3-031-62697-5_3)](https://doi.org/10.1007/978-3-031-62697-5_3)
- `02-preliminaries-none` (group-choice net + CCS net\*)
- `03-preliminaries-workflow` (group-choice net + workflow net + CCS net\*)
- `04-preliminaries-free-choice` (group-choice net + free-choice net + CCS net\*)
- `05-preliminaries-free-choice-workflow` (free-choice workflow net + CCS net\*)
- `06-ccs-net-place-0` (free-choice workflow net + CCS net\*\*)
- `07-ccs-net-place-1` (free-choice net + CCS net\*\*)
- `08-ccs-net-place-3` (free-choice net + CCS net\*\*)
- `09-ccs-net-transition-0` (free-choice net + 2-τ-synchronisation net\*\*)
- `10-ccs-net-transition-1` (free-choice net + 2-τ-synchronisation net\*\*)
- `11-ccs-net-transition-2` (free-choice net + 2-τ-synchronisation net\*\*)
- `12-ccs-net-example` (2-τ-synchronisation net\*\*\*)
- `14-free-choice-before` (free-choice net)
- `15-free-choice-after` (free-choice net)
- `16-group-choice-not` (Petri net)
- `17-group-choice-before` (group-choice net)
- `18-group-choice-after` (free-choice net + 2-τ-synchronisation net)

\* The Petri net in the paper has no labels/actions, so all transitions are labeled with `τ` in the PNML-file - and is therefore a CCS net.

\*\* The encoding in the paper only shows a *partial* encoding of a place/transition used to help understanding Algorithm 1 in the paper while the tool produces a *full* encoding (using Algorithm 6 + Algorithm 4 in the paper).

\*\*\* The encoding is not exactly as in the paper (but equivalent) since `s_2.X_p1` and `\overline{s_2}.0` are swapped compared to the paper.

## Examples from Second Paper
- `s01-vending-machine` (free-choice workflow net)
- `s02-order-to-cash-process` (free-choice workflow net)
- `s05-sync-patterns` (group-choice net)

## Step-by-Step Instructions for `17-group-choice-before`
1. Drag-and-drop 3 places onto the empty space. If you (by mistake) create a wrong place, *right* click (using the secondary button on your mouse) on the place and click `Delete place` in the dialog.
2. Click on `p1` to select it (it becomes **bold**). Afterwards, you can drag `p1` to move it. Move the places such that they form a vertical line with `p1` at the top, `p2` in the middle and `p3` at the bottom. (You can move the entire Petri net by dragging the background.)
3. Drag-and-drop 3 transitions onto the empty space such that `t1` is to the right of `p1`, `t2` is to the right of `p2` and `t3` is to the right of `p3`.
4. If there is a selected (**bold**) node, make sure to deselect it by clicking on it again.
5. Click on `p1` and then on `t1` to draw an edge. Continue by drawing the following edges: (`p2`, `t1`), (`p2`, `t2`) and (`p3`, `t3`). If you (by mistake) make a wrong edge, *right* click (using the secondary button on your mouse) on the edge and click `Delete edge` in the dialog.
6. Notice that the current Petri net is a CCS net. *Right* click (using the secondary button on your mouse) on `t1`, then in the dialog, change the label to `a` and click `Update transition`. Repeat for `t2` and `t3` such that `t2` gets label `b` and `t3` gets label `c`.
7. Notice that the Petri net is no longer a CCS net (or any of the other encodable classes). Add the missing edge from `p1` to `t2` such that it becomes a group-choice net.
8. The number of tokens in a place can be changed by *right* clicking (using the secondary button on your mouse) on the place similar to how transition labels are changed.

## Importing a PNML-file
Click on the `Import PN`-button, select a file in the dialog and press the `Import Petri net`-button to import the Petri net. It centers the Petri net on the first place or transition. You can drag the Petri net to get a better view of it.

## Extra Petri Nets
Fairly large models generated using [PLG2](https://andrea.burattin.net/publications/2016-bpm-demo):
- `x1-net-1` (free-choice workflow net)
- `x2-net-2` (free-choice workflow net)
- `x3-net-3` (free-choice workflow net)

Mined Petri nets using different process mining algorithms on the [road traffic fines log](https://doi.org/10.4121/uuid:270fd440-1057-4fb9-89a9-b699b47990f5):
- `x4-road-traffic-fines-alpha` (free-choice net)
- `x5-road-traffic-fines-inductive-miner` (free-choice workflow net)
- `x6-road-traffic-fines-heuristics-miner` (free-choice workflow net)

Petri nets from the official PNML website [pnml.org](https://www.pnml.org/version-2009/version-2009.php):
- [`x7-philo`](https://www.pnml.org/version-2009/examples/philo.pnml) (Petri net - no image, positions are scaled for better visualization)
- [`x8-piscine`](https://www.pnml.org/version-2009/examples/Piscine.pnml) (Petri net - no image)
- [`x9-token-ring`](https://www.pnml.org/version-2009/examples/Token-ring.pnml) (Petri net - no image)
